{% extends "admin/layout.html" %}

{% block admin_content %}
<div class="container-fluid py-4">
    <div class="row">
        <div class="col-12">
            <div class="card mb-4">
                <div class="card-header pb-0">
                    <h6>Edit Material</h6>
                </div>
                <div class="card-body px-0 pt-0 pb-2">
                    <div class="p-4">
                        <form action="/admin/materials/edit/{{ tile.id }}" method="post" enctype="multipart/form-data">
                            <!-- Material Type Selection (read-only) -->
                            <div class="form-group mb-3">
                                <label for="material">Material Type</label>
                                <input type="text" name="material" id="material" class="form-control" value="{{ tile.material }}" readonly>
                            </div>
                            
                            <!-- Common Fields -->
                            <div class="form-group mb-3">
                                <label for="name">Name</label>
                                <input type="text" name="name" id="name" class="form-control" value="{{ tile.name }}" required>
                            </div>
                            
                            <!-- Dimensions -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="size_width">Width (cm)</label>
                                    <input type="number" name="size_width" id="size_width" class="form-control" value="{{ tile.width }}">
                                </div>
                                <div class="col-md-6">
                                    <label for="size_height">Height (cm)</label>
                                    <input type="number" name="size_height" id="size_height" class="form-control" value="{{ tile.height }}">
                                </div>
                            </div>
                            
                            <!-- Price -->
                            <div class="form-group mb-3">
                                <label for="price_per_sqm">Price per mÂ²</label>
                                <input type="number" step="0.01" name="price_per_sqm" id="price_per_sqm" class="form-control" value="{{ tile.price_per_sqm }}" required>
                            </div>
                            
                            <!-- Manufacturer -->
                            <div class="form-group mb-3">
                                <label for="manufacturer">Manufacturer</label>
                                <input type="text" name="manufacturer" id="manufacturer" class="form-control" value="{{ tile.manufacturer }}" required>
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group mb-3">
                                <label for="description">Description</label>
                                <textarea name="description" id="description" class="form-control" rows="4" required>{{ tile.description }}</textarea>
                            </div>
                            
                            <!-- Current Image -->
                            <div class="form-group mb-3">
                                <label>Current Image</label>
                                <div class="mt-2">
                                    <img src="{{ tile.image_path }}" alt="{{ tile.name }}" style="max-width: 200px; max-height: 200px;">
                                </div>
                            </div>
                            
                            <!-- New Image Upload -->
                            <div class="form-group mb-3">
                                <label for="image">Upload New Image (optional)</label>
                                <input type="file" name="image" id="image" class="form-control" accept="image/*">
                                <small class="form-text text-muted">Leave empty to keep the current image</small>
                            </div>
                            
                            <!-- Submit Button -->
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">Update Material</button>
                                <a href="/admin/materials" class="btn btn-dark">Cancel</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
